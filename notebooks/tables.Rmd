
```{r}
library(data.table)
library(kableExtra)
```

```{r}
files <- list.files("artifacts/results/")
dt <- lapply(files[grepl("_benchmark.csv", files)], function(x) {
    fread(file.path("artifacts/results/", x))
})
dt <- Reduce(function(x,y) {rbind(x,y, fill=TRUE)}, dt)
dt[,ce:=NULL]
synth <- c("Moons", "Circles")
dt[,source:=ifelse(dataname %in% synth, "synthetic", "real")]
```

```{r}
measures <- c("distance_from_energy", "distance_from_targets")
tab <- dt[
    variable %in% measures,
    .(value=sprintf("%1.2f\n(%1.2f)", mean(value), sd(value))),
    .(dataname, generator, model, variable, source)
]
tab[generator == "eccco", generator:="ECCCo"]
tab[generator == "revise", generator:="REVISE"]
tab[generator == "generic", generator:="Wachter"]
tab[generator == "wachter", generator:="Wachter"]
tab[generator == "greedy", generator:="Schut"]
tab <- dcast(tab, model + variable + generator ~ dataname)
kbl(tab, align = "c") %>%
  kable_paper(full_width = F) %>%
  column_spec(1, bold = T) %>%
  collapse_rows(columns = 1:3, valign = "top")
```